一、 核心概要
- 游戏名称（中文）：蹲麻子
- 玩家人数：2-4人
- 游戏类型：策略凑牌 / 心理博弈
- 核心目标：通过换牌集齐"同花色"手牌，在分数达标时发起 「扣」 ，并在最终博弈中赢取对手分数，避免成为 「麻子」。
- 核心体验：
- 前期：利用规则限制控制公共区域的节奏
- 中期：利用满池特权进行爆发性组牌或清场
- 终局：胆小鬼博弈（扣、随、砸）
二、 游戏组件与设置
9.1 组件
- 牌堆（Deck）：一副标准54张扑克牌（含大王、小王）
- 公共区（Public Zone）：桌面中央区域，容量严格为5张牌
- 弃牌堆（Discard Pile）：被移除的牌放置于此，牌堆耗尽前不可回收
- 记分工具：电子记分器
9.2 设置流程
1. 设定目标分（Target Score）
- 所有玩家协商本局的目标分数
- 建议值：40分（标准节奏）或45分（高难度/更长时长）
2. 确定起始玩家
- 第一局：随机指定一名起始玩家
- 后续局：由上一局本局得分最低的玩家作为起始玩家
  - 若并列最低，则比较累计总积分，总分更低者优先
  - 若仍相同，则随机抽签决定
3. 发牌
- 洗牌后，发给起始玩家 6张 手牌
- 发给其余玩家各 5张 手牌
- 剩余牌背朝下作为摸牌堆
- 公共区和弃牌堆初始化为空
三、 核心概念与术语

中文术语
英文术语
定义与详细说明
麻子
Mazi
失败状态。指处于以下任一状态的玩家：
1. 手牌未能集齐同一种花色（含大小王辅助）
2. 虽集齐同花色，但手牌总分 < 目标分
后果：该玩家在本局结算时直接记为 0分，无资格参与奖池争夺
同花色
Flush
获胜前提。手牌中所有5张牌的花色一致。
赖子规则（Wild Cards）：
- 大王、小王为万能牌，可视为任意花色
- 手牌中如果只有王和某一种花色（如：2张王 + 3张黑桃），视为同花
- 手牌中如果全是王（如：2张王），视为同花（默认视为最高级花色黑桃）
手牌分
Hand Score
手牌各张牌分值总和
计分规则：
- 2 ~ 9：按牌面数字计分（2分 ~ 9分）
- 10, J, Q, K：均计为 10分
- 大王, 小王：均计为 10分
- A：计为 11分
目标分
Target Score
本局游戏设定的结束分数阈值，玩家必须达到或超过此分数才能「扣」
基础分
Basic Score
结算筹码。计算公式：手牌分 - 目标分
注：只有非负时（即达标）才有资格参与「扣」或「砸」
扣
Knock
终结行动。当手牌达成"同花色"且"手牌分≥目标分"时，可宣告「扣」，强制进入最终博弈
砸
Call
挑战行动。在最终博弈中，自信牌力更强时，选择加入竞争，争夺所有筹码
随
Fold
避险行动。在最终博弈中，放弃竞争，安全保住自己的基础分
摸牌出牌
Draw & Play
从摸牌堆摸1张牌，然后从手牌打1张到公共区
强制交换
Equal Swap
换牌行动（N换N）。当公共区牌数 N < 5 时，必须用手牌N张换取公共区全部N张牌
自由交换
Selective Swap
换牌行动（M换M）。当公共区满5张时，可自由选择用手牌M张（1≤M≤5）换取公共区任意M张牌
清场
Clear
清空公共区。当公共区满5张时，可将其全部弃置，然后摸1张打1张，重置战局
奖池
Pot
最终博弈阶段，所有选择「扣」和「砸」的玩家基础分形成的分数池

四、 游戏流程详解
回合结构
游戏按顺时针进行。任何时刻（除摸牌瞬间），玩家手牌必须保持为5张。
9.1 起始玩家首回合
- 执行者：仅限起始玩家
- 强制动作：不摸牌，直接从6张手牌中打出1张至公共区
- 结果：手牌变5张，公共区变1张。回合结束
9.2 常规回合行动选项
轮到玩家时，必须且只能从以下4项行动中选择1项执行：
行动A：摸牌出牌（Draw & Play）
条件：公共区牌数 < 5
流程：
1. 从摸牌堆摸1张
2. 从手牌打1张到公共区
结果：公共区数量 +1
行动B：强制交换（Selective Swap） - 核心策略点
条件：公共区牌数 = N (其中 1 ≤ N ≤ 4)
流程：
1. 必须用手牌中的 N 张牌
2. 与公共区现有的 N 张牌进行完全交换
结果：公共区数量不变
策略示例（蓄水战术）：
场景：3人局，公共区有3张杂牌。轮到玩家A。
操作：玩家A手里有几张废牌，他选择执行3换3
意图：A并不想要公共区的牌，但他通过"3换3"锁定了公共区数量。下家B和C因为不敢执行3换3（代价太大），只能选择"摸1打1"
后果：B行动后公区变4张，C行动后公区变5张。轮回到A时，公区刚好满5张，A解锁"满池特权"
行动C：满池特权（Full Pool Actions）
当公共区牌数 == 5时，玩家有以下两种选择：
选项C1：自由交换（Equal Swap）
条件：公共区牌数 == 5
流程：
玩家可选择交换 1 到 5 张任意数量的牌
结果：公共区保持5张。这是凑大牌的最佳时机
选项C2：清场（Clear & Draw）
条件：公共区牌数 == 5
流程：
1. 将公共区5张牌全部移入弃牌堆
2. 从摸牌堆摸1张
3. 从手牌打1张到公共区（变为1张）
结果：重置了战场，破坏了下家利用满池的机会
行动D：扣（Knock）
条件：
1. 手牌已集齐同花色
2. 手牌总分 ≥ 目标分
流程：宣告"扣牌"，游戏立即暂停，进入【结束响应阶段】
五、 结束响应阶段（Showdown Phase）
一旦有玩家「扣」，从其下家开始，按顺时针顺序，每位玩家依次表态。
9.1 响应规则
1. 判定麻子：如果玩家此时未同花或分数不足，强制视为"麻子"，亮牌，得0分
2. 达标玩家选择：
  - 随（Fold）：如果不看好自己能赢，选择"随"
    - 结果：退出竞争，安全保留自己的基础分
  - 砸（Call/Raise）：如果觉得自己牌大，选择"砸"
    - 结果：加入竞争池，与发起者一决高下
9.2 最终结算算法
1. 确定竞争池：包含发起者和所有选择"砸"的玩家
2. 决定赢家（Winner）：在竞争池内比牌
  - 第一顺位：比分数。分高者胜
  - 第二顺位：比花色
    - 黑桃 ♠ > 红桃 ♥ > 梅花 ♣ > 方块 ♦
    - 注：含大小王的同花，按其代表的花色比较
  - 第三顺位：比单张（High Card）
    - 若分数和花色极其罕见地完全相同，比单张最大牌
    - 单张大小顺序：A（最大）> 大王 > 小王 > K > Q > J > 10 > ... > 2
    - 重要：此处 A 权重大于王
3. 分数分配：
  - 赢家：获得竞争池内所有玩家的基础得分总和
  - 输家（池内其他人）：基础得分归零，记为0分
  - 随的玩家：获得自己原本的基础得分
  - 麻子：0分
9.3 详细结算案例
案例一：标准结算
设定：目标分 40分
玩家状态：
- 甲（扣）：黑桃同花，50分（基础分=10）
- 乙（砸）：红桃同花，48分（基础分=8）
- 丙（麻子）：未凑齐同花（基础分=0）
- 丁（随）：方块同花，42分（基础分=2）

结算逻辑：
1. 竞争池 = {甲, 乙}
2. 比牌：甲(50分) > 乙(48分)，甲获胜
3. 最终得分：
   - 甲：10（自己） + 8（赢乙） = 18分
   - 乙：0分（输给甲）
   - 丙：0分
   - 丁：2分（安全落袋）
案例二：多玩家选择砸
设定：目标分 40分，三人局
玩家状态：
- 甲（扣）：50分（基础分=10）
- 乙（砸）：49分（基础分=9）
- 丙（砸）：48分（基础分=8）

结算逻辑：
1. 竞争池 = {甲, 乙, 丙}
2. 比牌：甲(50分) > 乙(49分) > 丙(48分)，甲获胜
3. 最终得分：
   - 甲：10 + 9 + 8 = 27分
   - 乙：0分
   - 丙：0分
案例三：同分但花色不同
设定：目标分 40分
玩家状态：
- 甲（扣）：黑桃同花，45分（基础分=5）
- 乙（砸）：红桃同花，45分（基础分=5）

结算逻辑：
1. 竞争池 = {甲, 乙}
2. 比牌：分数相同（45分），比较花色
   黑桃 ♠ > 红桃 ♥，甲获胜
3. 最终得分：
   - 甲：5 + 5 = 10分
   - 乙：0分
案例四：极端平局情况
设定：目标分 40分
玩家状态：
- 甲（扣）：黑桃同花（A, K, Q, J, 9），50分（基础分=10）
- 乙（砸）：黑桃同花（A, K, Q, J, 9），50分（基础分=10）
  注：乙的大王充当了黑桃A

结算逻辑：
1. 竞争池 = {甲, 乙}
2. 比牌：
   - 第一顺位：分数相同（50分）
   - 第二顺位：花色相同（都是黑桃）
   - 第三顺位：比单张
     * 双方最大单张都是A（乙的大王充当A）
     * 根据单张大小顺序：A = 大王（在此情况下）
     * 继续比较次大单张：都是K，平
     * 继续比较第三大单张：都是Q，平
     * 继续比较第四大单张：都是J，平
     * 比较第五大单张：都是9，平
3. 特殊判定：当所有比较都完全相同时
   **规则**：由发起「扣」的玩家（甲）获胜
4. 最终得分：
   - 甲：10 + 10 = 20分
   - 乙：0分
六、 特殊规则与边界处理
9.1 牌堆用尽与死局处理（Deck Empty & Deadlock）
当摸牌堆最后一张牌被摸走并打出后，游戏进入"资源枯竭期"
行动限制
- 玩家禁止执行"摸牌出牌"或"清场"
- 玩家只能选择：
  1. 换牌：若公共区有牌，且玩家愿意承担换牌代价
  2. 扣：若满足条件
强制结算（Sudden Death）
如果在牌堆耗尽后，所有玩家连续进行了两轮操作（即每人都有两次机会选择换牌或扣），但无人选择"扣"：
- 判定：游戏强制结束
- 结算方式：
  - 所有玩家亮牌，麻子不得分，非麻子各自得到手牌的分数，不比较
9.2 两人局特殊调整
- 规则与多人局完全一致
七、 计分与多轮规则
9.1 积分制
- 建议进行多轮游戏（如 4 圈或 8 圈）
- 每轮结束后，记录每位玩家本轮得分，并累计到其总积分中
9.2 最终胜负
- 在所有预定轮次结束后，总积分最高者获胜
9.3 计分示例（多轮游戏）
游戏设定：进行4轮，目标分40分

第1轮得分：
- 玩家A: 18分
- 玩家B: 0分  
- 玩家C: 2分
- 玩家D: 0分

第2轮得分：
- 玩家A: 10分
- 玩家B: 15分
- 玩家C: 0分
- 玩家D: 5分

第3轮得分：
- 玩家A: 0分
- 玩家B: 12分
- 玩家C: 8分
- 玩家D: 0分

第4轮得分：
- 玩家A: 20分
- 玩家B: 0分
- 玩家C: 0分
- 玩家D: 10分

累计总积分：
- 玩家A: 18+10+0+20 = 48分
- 玩家B: 0+15+12+0 = 27分
- 玩家C: 2+0+8+0 = 10分
- 玩家D: 0+5+0+10 = 15分

最终胜者：玩家A（48分）
9.3 核心算法
- 同花色判定算法：需要考虑大小王的万能牌特性
- 分数计算算法：按照分值规则快速计算手牌分
- 比牌算法：实现三级比较逻辑（分数→花色→单张）
- 结算算法：正确处理奖池分配
9.4 UI/UX 建议
- 清晰展示公共牌堆、摸牌堆、弃牌堆。类似于德州扑克的公共牌，摸牌堆、过牌堆
- 实时计算并显示手牌分
- 在回合中明确提示可执行的动作
- 在最终博弈阶段清晰展示"扣"、"砸"、"随"选项