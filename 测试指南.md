# 快速测试指南

## 🧪 测试创建/加入房间功能

### 准备工作

1. 确保 Supabase 数据库已正确配置
2. 确保 `.env` 文件中的配置正确
3. 启动开发服务器：`npm run dev`
4. 访问 `http://localhost:3000`

### 测试步骤

#### 1️⃣ 测试创建房间

1. 打开浏览器访问 `http://localhost:3000`
2. 看到大厅页面，有清新的渐变背景和流动的球体动画
3. 点击 **"创建房间"** 按钮
4. 输入昵称（例如："玩家1"）
5. 点击 **"创建房间"** 按钮
6. 应该自动跳转到游戏房间页面
7. 可以看到：
   - 顶部显示房间号（6 位字母数字）
   - 显示 "1 位玩家"
   - 左侧玩家列表中有你的玩家卡片，带 "房主" 和 "你" 标签
   - 中间显示等待状态，提示 "等待玩家加入..."

#### 2️⃣ 测试加入房间

1. **打开第二个浏览器窗口**（或隐身模式窗口）
2. 访问 `http://localhost:3000`
3. 点击 **"加入房间"** 按钮
4. 输入昵称（例如："玩家2"）
5. 输入第一个窗口中显示的房间号
6. 点击 **"加入房间"** 按钮
7. 应该自动跳转到游戏房间页面

#### 3️⃣ 测试实时同步

现在你应该有两个浏览器窗口都在同一个房间中：

**在窗口 1（房主）中检查**：
- 玩家数量自动更新为 "2 位玩家"
- 玩家列表中自动出现了第二个玩家
- 中间出现了 **"开始游戏"** 按钮（因为满足了最少 2 人的条件）

**在窗口 2（加入者）中检查**：
- 可以看到房间号
- 显示 "2 位玩家"
- 玩家列表中有两个玩家
- 第一个玩家有 "房主" 标签
- 第二个玩家（你自己）有 "你" 标签，卡片有高亮效果

#### 4️⃣ 测试交互功能

**测试复制房间号**：
1. 点击顶部的房间号
2. 应该看到 "已复制!" 的提示
3. 可以粘贴到其他地方验证

**测试离开房间**：
1. 在窗口 2 中点击 **"离开"** 按钮
2. 确认离开
3. 应该返回到大厅页面
4. 切换到窗口 1，玩家列表应该自动更新，只剩下 1 位玩家
5. "开始游戏" 按钮应该消失（因为少于 2 人）

#### 5️⃣ 测试错误处理

**测试房间不存在**：
1. 在大厅点击 "加入房间"
2. 输入昵称和一个不存在的房间号（例如："AAAAAA"）
3. 点击 "加入房间"
4. 应该显示错误提示 "房间不存在"

**测试房间已满**：
1. 创建一个房间
2. 用 4 个不同的浏览器窗口加入（最大 4 人）
3. 尝试用第 5 个窗口加入
4. 应该显示错误提示 "房间已满"

### 观察要点

#### ✨ UI/动画检查清单

- [ ] 大厅页面的背景球体在缓慢浮动
- [ ] 点击按钮时有向上位移和阴影增强效果
- [ ] 输入框聚焦时有边框颜色变化和阴影效果
- [ ] 页面切换时有平滑的动画过渡
- [ ] 玩家卡片进入时有从左滑入的动画
- [ ] 等待状态的图标（♠♥♦♣）有脉冲动画
- [ ] 复制房间号后的提示有下滑动画
- [ ] 错误提示有抖动动画
- [ ] 鼠标悬停在玩家卡片上时有位移效果
- [ ] 所有交互都很流畅，没有卡顿

#### 📊 功能检查清单

- [ ] 创建房间成功并自动进入游戏房间
- [ ] 房间号是 6 位大写字母和数字的组合
- [ ] 可以通过房间号加入房间
- [ ] 玩家列表实时同步
- [ ] 房主有特殊标识
- [ ] 当前玩家的卡片有高亮效果
- [ ] 玩家数量正确显示并实时更新
- [ ] 房主在 2 人以上时可以看到 "开始游戏" 按钮
- [ ] 普通玩家看不到 "开始游戏" 按钮
- [ ] 复制房间号功能正常
- [ ] 离开房间后自动返回大厅
- [ ] 错误提示正确显示

### 🎨 设计审查

**配色**：
- 背景：清新的绿色到蓝色渐变 ✓
- 主按钮：青绿色渐变 (#4db6ac → #26a69a) ✓
- 文字：深灰蓝色 (#37474f) ✓
- 阴影：柔和多层次 ✓

**排版**：
- 标题：DM Serif Display 字体，优雅 ✓
- 正文：Outfit 字体，现代简洁 ✓
- 字间距和行高舒适 ✓

**布局**：
- 完全填充 100vw × 100vh，无滚动条 ✓
- 元素间距合理，不拥挤 ✓
- 响应式设计，移动端友好 ✓

### 🐛 常见问题排查

**Q: 页面空白或报错**
A: 检查：
1. 浏览器控制台是否有错误
2. `.env` 文件是否存在且配置正确
3. Supabase 项目是否正常运行
4. 数据库表是否已创建

**Q: 实时同步不工作**
A: 检查：
1. Supabase 中是否执行了 `alter publication supabase_realtime add table ...` 命令
2. 浏览器控制台是否有 WebSocket 连接错误
3. 网络是否正常

**Q: 创建/加入房间失败**
A: 检查：
1. Supabase 数据库权限是否正确配置（RLS 策略）
2. 表结构是否完整
3. 网络请求是否成功（F12 → Network 查看）

**Q: 样式显示不正确**
A: 检查：
1. 浏览器是否支持 CSS 变量和 backdrop-filter
2. 清除浏览器缓存后刷新
3. 使用现代浏览器（Chrome、Firefox、Safari 最新版）

### 📱 移动端测试

如果要在手机上测试：

1. 确保电脑和手机在同一局域网
2. 找到电脑的局域网 IP（例如：192.168.1.100）
3. 在手机浏览器访问：`http://192.168.1.100:3000`
4. 测试触摸交互和响应式布局

### ✅ 测试完成

如果以上所有测试都通过，说明创建/加入房间功能已完美实现！

下一步可以开始开发游戏核心功能：
- 开始游戏逻辑
- 扑克牌组件
- 发牌和出牌功能
- 游戏规则实现
