# 🎮 扑克牌游戏 - 快速启动指南

## 📋 第一步：配置 Supabase

### 1. 注册 Supabase（5 分钟）

1. 访问 https://supabase.com
2. 点击 "Start your project" → 使用 GitHub 登录
3. 创建新项目：
   - 项目名称：随意（如 `my-poker-game`）
   - 数据库密码：设置一个强密码
   - 区域：选择 `Southeast Asia (Singapore)` 或离你最近的
4. 等待项目创建（约 2 分钟）

### 2. 获取配置信息（1 分钟）

项目创建完成后：

1. 进入项目首页
2. 左侧菜单 → `Settings` → `API`
3. 复制两个值：
   - `Project URL`（类似 https://xxxxx.supabase.co）
   - `anon public key`（一长串字符）

### 3. 创建数据库表（2 分钟）

1. 左侧菜单 → `SQL Editor`
2. 点击 `New query`
3. 打开项目中的 `SUPABASE_SETUP.md` 文件
4. 复制里面的完整 SQL 代码
5. 粘贴到 Supabase SQL Editor
6. 点击右下角 `Run` 按钮
7. 看到 "Success. No rows returned" 表示成功

### 4. 验证表是否创建成功（30 秒）

1. 左侧菜单 → `Table Editor`
2. 应该看到 3 个表：`games`、`players`、`game_actions`

---

## 💻 第二步：配置本地项目

### 1. 配置环境变量（1 分钟）

在项目根目录创建 `.env` 文件（注意：文件名就是 `.env`）：

```env
VITE_SUPABASE_URL=你的Project URL
VITE_SUPABASE_ANON_KEY=你的anon public key
```

**示例**：

```env
VITE_SUPABASE_URL=https://abcdefgh.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### 2. 启动开发服务器（30 秒）

```bash
npm run dev
```

看到类似输出表示成功：

```
  ➜  Local:   http://localhost:5173/
```

---

## 🎯 第三步：开始游戏

### 访问游戏

浏览器打开：**http://localhost:5173/poker**

### 测试流程

1. **创建房间**：

   - 输入昵称（如"玩家 1"）
   - 点击"创建房间"
   - 记下房间号（6 位大写字母数字）

2. **加入房间**（需要另一个浏览器窗口或隐身模式）：

   - 打开新的浏览器窗口
   - 访问 http://localhost:5173/poker
   - 输入昵称（如"玩家 2"）
   - 输入房间号
   - 点击"加入房间"

3. **开始游戏**：
   - 房主（玩家 1）点击"开始游戏"
   - 系统自动发牌
   - 轮流出牌

---

## 🐛 常见问题

### 问题 1: 启动报错 "Cannot find module '@supabase/supabase-js'"

**解决**：重新安装依赖

```bash
npm install
```

### 问题 2: 访问 /poker 显示空白页面

**检查**：

1. 浏览器控制台（F12）是否有报错
2. `.env` 文件是否在项目根目录
3. 环境变量格式是否正确（注意去掉引号）

### 问题 3: 点击"创建房间"没反应

**检查**：

1. Supabase 项目是否正常运行
2. 数据库表是否创建成功
3. 浏览器控制台查看具体错误信息

### 问题 4: 实时同步不工作（其他玩家看不到变化）

**检查**：

1. 是否执行了 SQL 中的 `alter publication supabase_realtime add table ...`
2. Supabase 项目 → Settings → API → 确认 Realtime 是开启状态

---

## 📱 测试多人功能的方法

### 方法 1：多个浏览器窗口

- Chrome 普通窗口 + Chrome 隐身窗口
- Chrome + Firefox + Safari

### 方法 2：多个设备

- 电脑 + 手机（确保在同一网络）
- 访问 `http://你的电脑IP:5173/poker`

### 方法 3：分享给朋友

1. 将代码部署到 Vercel（免费）
2. 朋友访问你的网址

---

## 🚀 下一步做什么

### 立即可用

- ✅ 创建/加入房间
- ✅ 多人实时同步
- ✅ 发牌和出牌

### 需要自定义（根据你想玩的游戏）

- 游戏规则逻辑（在 `src/utils/gameLogic.js` 中修改）
- 出牌验证规则
- 获胜条件判定

### 可选优化

- 添加音效和动画
- 美化 UI 界面
- 添加聊天功能
- 添加战绩统计

---

## 📞 需要帮助？

1. 查看 `POKER_GAME_README.md` - 详细技术文档
2. 查看 `SUPABASE_SETUP.md` - Supabase 详细设置
3. 检查浏览器控制台的错误信息
4. 检查 Supabase 项目日志

---

## ✅ 检查清单

在启动前确认：

- [ ] Supabase 项目已创建
- [ ] 数据库表已创建（3 个表）
- [ ] `.env` 文件已配置
- [ ] 依赖已安装（npm install）
- [ ] 开发服务器已启动（npm run dev）
- [ ] 浏览器访问 http://localhost:5173/poker

全部完成后，你就可以开始游戏了！🎉
